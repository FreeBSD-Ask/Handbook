# 7.7.故障排除


在排除硬件和软件配置问题时，首先检查简单的事情。

* 网线插好了吗？
* 网络服务配置正确吗？
* 防火墙配置正确吗？
* FreeBSD 支持该网卡吗？
* 路由器正常工作吗？

|  | 在发送错误报告之前，始终检查 FreeBSD 发布页面上的硬件说明，更新 FreeBSD 版本至最新的稳定版本，检查邮件列表存档并在互联网搜索。|
| -- | ------------------------------------------------------------------------------------------------------------------------------ |

## 7.7.1. 有线网络故障排除

如果网卡正常工作，但性能不佳，请阅读优化（7）。同时，检查网络配置，因为错误的网络设置可能会导致连接速度变慢。

如果系统无法将数据包路由到目标主机，则会出现 No route to host 消息。如果没有指定默认路由或网线未连接，就可能会发生这种情况。检查 netstat -rn 的输出，并确保存在到主机的有效路由。如果没有，请阅读网关和路由。

错误消息ping: sendto: Permission denied 常常由错误配置的防火墙引起。如果在 FreeBSD 上启用了防火墙但没有定义规则，则默认策略是拒绝所有流量，甚至是 ping(8)。有关更多信息，请参阅防火墙。

## 7.7.2. 无线网络故障排除

本节介绍了一些步骤，以帮助排除常见的无线网络问题。

* 如果在扫描时未列出所需WiFi，请检查配置是否将无线设备限制在有限的一组信道上。
* 如果设备无法连接到WiFi，请验证配置是否与WiFi上的设置匹配。这包括认证方案和任何安全协议。尽量简化配置。如果使用诸如 WPA2 和 WPA 之类的安全协议，请为开放认证和无安全性配置WiFi，以查看是否可以传输流量。
* 如果系统能够接入 WiFi，使用诸如 ping（8）之类的工具来诊断网络配置。
* 有许多底层调试工具。比如可以使用 wlandebug（8）在 802.11 协议支持层中启用调试消息。

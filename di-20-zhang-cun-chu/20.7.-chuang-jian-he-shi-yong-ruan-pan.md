# 20.7.创建和使用软盘

本节介绍如何在 FreeBSD 中格式化 3.5 英寸软盘。

**过程：格式化软盘的步骤**

软盘在使用之前需要进行低级格式化。通常由制造商完成，但格式化是检查介质完整性的好方法。要在 FreeBSD 上执行软盘的低级格式化，请使用 fdformat(1)。在使用此实用程序时，请注意任何错误消息，因为这些错误消息可以帮助确定软盘是好的还是坏的。

1. 要格式化软盘，请将新的 3.5 英寸软盘插入第一个软驱，并执行：

    ```
    # /usr/sbin/fdformat -f 1440 /dev/fd0
    ```

2. 在低级格式化磁盘后，创建磁盘标签，因为系统需要它来确定磁盘的大小和几何结构。支持的几何结构值列在 /etc/disktab 中。要写入磁盘标签，请使用 bsdlabel(8)：

    ```
    # /sbin/bsdlabel -B -w /dev/fd0 fd1440
    ```

3. 磁盘现在可以进行高级格式化，并选择文件系统。软盘的文件系统可以是 UFS 或 FAT，其中 FAT 通常是软盘的更好选择。要使用 FAT 格式化软盘，请执行：

    ```
    # /sbin/newfs_msdos /dev/fd0
    ```

磁盘现在可以使用了。要使用软盘，请使用 mount_msdosfs(8) 进行挂载。还可以安装并使用来自 Ports 的 emulators/mtools。
